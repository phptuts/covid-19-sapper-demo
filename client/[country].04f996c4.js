import{S as a,i as t,s,b as e,p as r,c as o,f as c,g as n,q as i,d as l,h,j as d,a as u,k as v,u as f,n as g,O as y,v as m,R as $,x as p,y as C,z as D,C as S,D as E,E as w,e as L,L as I,T as V,U as H,P,w as b,B as T,Q as B,M}from"./client.f8171ee4.js";import{_ as R}from"./cache.49e66cc5.js";import{c as j,d as x,e as A}from"./request.4d953668.js";import{f as F,F as k,T as N}from"./helpers.7783ddad.js";import{a as O,C as q}from"./CovidChart.4abd1a95.js";function z(a){let t,s,y,m,$,p,C,D,S,E,w,L,I,V,H,P,b,T,B,M,R,j,x,A,F,k,N,O,q,z,K,Q,U,G,J,W,X,Y,Z,_=a[0].toLocaleString()+"",aa=a[1].toLocaleString()+"",ta=a[2].toLocaleString()+"",sa=a[3].toLocaleString()+"",ea=a[4].toLocaleString()+"",ra=a[6].toLocaleString()+"",oa=a[5].toLocaleString()+"",ca=a[7].toLocaleString()+"";return{c(){t=e("div"),s=e("div"),y=e("div"),m=e("h3"),$=r("Cases: "),p=r(_),C=o(),D=e("h3"),S=r("Cases Today: "),E=r(aa),w=o(),L=e("h3"),I=r("Cases Per Million: "),V=r(ta),H=o(),P=e("div"),b=e("h3"),T=r("Recovered: "),B=r(sa),M=o(),R=e("h3"),j=r("Active: "),x=r(ea),A=o(),F=e("h3"),k=r("Critical: "),N=r(ra),O=o(),q=e("div"),z=e("h3"),K=r("Deaths: "),Q=r(oa),U=o(),G=e("h3"),J=r("Deaths Today: "),W=r(ca),X=o(),Y=e("div"),Z=e("canvas"),this.h()},l(a){t=c(a,"DIV",{class:!0});var e=n(t);s=c(e,"DIV",{class:!0});var r=n(s);y=c(r,"DIV",{class:!0});var o=n(y);m=c(o,"H3",{});var d=n(m);$=i(d,"Cases: "),p=i(d,_),d.forEach(l),C=h(o),D=c(o,"H3",{});var u=n(D);S=i(u,"Cases Today: "),E=i(u,aa),u.forEach(l),w=h(o),L=c(o,"H3",{});var v=n(L);I=i(v,"Cases Per Million: "),V=i(v,ta),v.forEach(l),o.forEach(l),H=h(r),P=c(r,"DIV",{class:!0});var f=n(P);b=c(f,"H3",{});var g=n(b);T=i(g,"Recovered: "),B=i(g,sa),g.forEach(l),M=h(f),R=c(f,"H3",{});var na=n(R);j=i(na,"Active: "),x=i(na,ea),na.forEach(l),A=h(f),F=c(f,"H3",{});var ia=n(F);k=i(ia,"Critical: "),N=i(ia,ra),ia.forEach(l),f.forEach(l),O=h(r),q=c(r,"DIV",{class:!0});var la=n(q);z=c(la,"H3",{});var ha=n(z);K=i(ha,"Deaths: "),Q=i(ha,oa),ha.forEach(l),U=h(la),G=c(la,"H3",{});var da=n(G);J=i(da,"Deaths Today: "),W=i(da,ca),da.forEach(l),la.forEach(l),X=h(r),Y=c(r,"DIV",{class:!0});var ua=n(Y);Z=c(ua,"CANVAS",{}),n(Z).forEach(l),ua.forEach(l),r.forEach(l),e.forEach(l),this.h()},h(){d(y,"class","four wide column"),d(P,"class","four wide column"),d(q,"class","four wide column"),d(Y,"class","four wide column"),d(s,"class","ui grid"),d(t,"class","ui container")},m(e,r){u(e,t,r),v(t,s),v(s,y),v(y,m),v(m,$),v(m,p),v(y,C),v(y,D),v(D,S),v(D,E),v(y,w),v(y,L),v(L,I),v(L,V),v(s,H),v(s,P),v(P,b),v(b,T),v(b,B),v(P,M),v(P,R),v(R,j),v(R,x),v(P,A),v(P,F),v(F,k),v(F,N),v(s,O),v(s,q),v(q,z),v(z,K),v(z,Q),v(q,U),v(q,G),v(G,J),v(G,W),v(s,X),v(s,Y),v(Y,Z),a[9](Z)},p(a,[t]){1&t&&_!==(_=a[0].toLocaleString()+"")&&f(p,_),2&t&&aa!==(aa=a[1].toLocaleString()+"")&&f(E,aa),4&t&&ta!==(ta=a[2].toLocaleString()+"")&&f(V,ta),8&t&&sa!==(sa=a[3].toLocaleString()+"")&&f(B,sa),16&t&&ea!==(ea=a[4].toLocaleString()+"")&&f(x,ea),64&t&&ra!==(ra=a[6].toLocaleString()+"")&&f(N,ra),32&t&&oa!==(oa=a[5].toLocaleString()+"")&&f(Q,oa),128&t&&ca!==(ca=a[7].toLocaleString()+"")&&f(W,ca)},i:g,o:g,d(s){s&&l(t),a[9](null)}}}function K(a,t,s){let e,{cases:r=0}=t,{todayCases:o=0}=t,{casesPerOneMillion:c=0}=t,{recovered:n=0}=t,{active:i=0}=t,{deaths:l=0}=t,{critical:h=0}=t,{todayDeaths:d=0}=t;return y(()=>{new O(e.getContext("2d"),{type:"pie",data:{labels:["Deaths","Recovered","Active"],datasets:[{data:[l,n,i],backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)"]}]},options:{}})}),a.$set=(a=>{"cases"in a&&s(0,r=a.cases),"todayCases"in a&&s(1,o=a.todayCases),"casesPerOneMillion"in a&&s(2,c=a.casesPerOneMillion),"recovered"in a&&s(3,n=a.recovered),"active"in a&&s(4,i=a.active),"deaths"in a&&s(5,l=a.deaths),"critical"in a&&s(6,h=a.critical),"todayDeaths"in a&&s(7,d=a.todayDeaths)}),[r,o,c,n,i,l,h,d,e,function(a){m[a?"unshift":"push"](()=>{s(8,e=a)})}]}class Q extends a{constructor(a){super(),t(this,a,K,z,s,{cases:0,todayCases:1,casesPerOneMillion:2,recovered:3,active:4,deaths:5,critical:6,todayDeaths:7})}}function U(a){let t,s,f,g,y,$,L,I,V;function H(t){a[14].call(null,t)}function P(t){a[15].call(null,t)}let B={geoRegionName:"Province / State",selectFields:a[8]};void 0!==a[4]&&(B.sortBy=a[4]),void 0!==a[5]&&(B.search=a[5]);const M=new k({props:B});function R(t){a[16].call(null,t)}m.push(()=>b(M,"sortBy",H)),m.push(()=>b(M,"search",P));let j={geoRegionName:"Province / State",fields:a[8],sortBy:a[4],canNav:"true",list:a[3]};void 0!==a[6]&&(j.page=a[6]);const x=new N({props:j});return m.push(()=>b(x,"page",R)),x.$on("location",a[9]),{c(){t=e("div"),s=e("h1"),f=r("Search By Province / State"),g=o(),p(M.$$.fragment),L=o(),p(x.$$.fragment),this.h()},l(a){t=c(a,"DIV",{class:!0});var e=n(t);s=c(e,"H1",{class:!0});var r=n(s);f=i(r,"Search By Province / State"),r.forEach(l),e.forEach(l),g=h(a),C(M.$$.fragment,a),L=h(a),C(x.$$.fragment,a),this.h()},h(){d(s,"class","svelte-15uwyg3"),d(t,"class","ui container")},m(a,e){u(a,t,e),v(t,s),v(s,f),u(a,g,e),D(M,a,e),u(a,L,e),D(x,a,e),V=!0},p(a,t){const s={};!y&&16&t&&(y=!0,s.sortBy=a[4],T(()=>y=!1)),!$&&32&t&&($=!0,s.search=a[5],T(()=>$=!1)),M.$set(s);const e={};16&t&&(e.sortBy=a[4]),8&t&&(e.list=a[3]),!I&&64&t&&(I=!0,e.page=a[6],T(()=>I=!1)),x.$set(e)},i(a){V||(S(M.$$.fragment,a),S(x.$$.fragment,a),V=!0)},o(a){E(M.$$.fragment,a),E(x.$$.fragment,a),V=!1},d(a){a&&l(t),a&&l(g),w(M,a),a&&l(L),w(x,a)}}}function G(a){let t,s,g,y,m,b,T,M,j,x,A,F,k,N,O,z,K,G,J,W,X,Y,Z=R.startCase(a[7])+"",_=R.startCase(a[7])+"";document.title=t="Covid 19 Tracker For "+R.startCase(a[7]);const aa=[a[1]];let ta={};for(let a=0;a<aa.length;a+=1)ta=$(ta,aa[a]);const sa=new Q({props:ta}),ea=new q({props:{title:"Covid-19 State For "+R.startCase(a[7]),historicData:a[0]}});let ra=a[2].length>0&&U(a);return{c(){s=o(),g=e("div"),y=e("div"),m=e("a"),b=r("Home"),T=o(),M=e("div"),j=r("/"),x=o(),A=e("div"),F=r(Z),k=o(),N=e("div"),O=e("h1"),z=r("Country "),K=r(_),G=o(),p(sa.$$.fragment),J=o(),p(ea.$$.fragment),W=o(),ra&&ra.c(),X=L(),this.h()},l(a){I('[data-svelte="svelte-14u9moo"]',document.head).forEach(l),s=h(a),g=c(a,"DIV",{class:!0});var t=n(g);y=c(t,"DIV",{class:!0});var e=n(y);m=c(e,"A",{href:!0,class:!0});var r=n(m);b=i(r,"Home"),r.forEach(l),T=h(e),M=c(e,"DIV",{class:!0});var o=n(M);j=i(o,"/"),o.forEach(l),x=h(e),A=c(e,"DIV",{class:!0});var d=n(A);F=i(d,Z),d.forEach(l),e.forEach(l),t.forEach(l),k=h(a),N=c(a,"DIV",{class:!0});var u=n(N);O=c(u,"H1",{class:!0});var v=n(O);z=i(v,"Country "),K=i(v,_),v.forEach(l),u.forEach(l),G=h(a),C(sa.$$.fragment,a),J=h(a),C(ea.$$.fragment,a),W=h(a),ra&&ra.l(a),X=L(),this.h()},h(){d(m,"href","/covid-19-sapper-demo"),d(m,"class","section"),d(M,"class","divider"),d(A,"class","active section"),d(y,"class","ui breadcrumb"),d(g,"class","ui container"),d(O,"class","svelte-15uwyg3"),d(N,"class","ui container")},m(a,t){u(a,s,t),u(a,g,t),v(g,y),v(y,m),v(m,b),v(y,T),v(y,M),v(M,j),v(y,x),v(y,A),v(A,F),u(a,k,t),u(a,N,t),v(N,O),v(O,z),v(O,K),u(a,G,t),D(sa,a,t),u(a,J,t),D(ea,a,t),u(a,W,t),ra&&ra.m(a,t),u(a,X,t),Y=!0},p(a,[s]){(!Y||128&s)&&t!==(t="Covid 19 Tracker For "+R.startCase(a[7]))&&(document.title=t),(!Y||128&s)&&Z!==(Z=R.startCase(a[7])+"")&&f(F,Z),(!Y||128&s)&&_!==(_=R.startCase(a[7])+"")&&f(K,_);const e=2&s?V(aa,[H(a[1])]):{};sa.$set(e);const r={};128&s&&(r.title="Covid-19 State For "+R.startCase(a[7])),1&s&&(r.historicData=a[0]),ea.$set(r),a[2].length>0?ra?(ra.p(a,s),S(ra,1)):((ra=U(a)).c(),S(ra,1),ra.m(X.parentNode,X)):ra&&(B(),E(ra,1,1,()=>{ra=null}),P())},i(a){Y||(S(sa.$$.fragment,a),S(ea.$$.fragment,a),S(ra),Y=!0)},o(a){E(sa.$$.fragment,a),E(ea.$$.fragment,a),E(ra),Y=!1},d(a){a&&l(s),a&&l(g),a&&l(k),a&&l(N),a&&l(G),w(sa,a),a&&l(J),w(ea,a),a&&l(W),ra&&ra.d(a),a&&l(X)}}}async function J(a){try{const t=a.params.country;return{countryInfo:await j(t),historicCountryData:await x(t),provinces:await A(t),country:t}}catch(a){this.error(500,"There was an error in calling the api, please try again in 5 minutes.")}return{country:a.params.country}}function W(a,t,s){let{country:e}=t,{historicCountryData:r={}}=t,{countryInfo:o={}}=t,{provinces:c=[]}=t,n=[],i="none",l="",h=0;let d;return a.$set=(a=>{"country"in a&&s(10,e=a.country),"historicCountryData"in a&&s(0,r=a.historicCountryData),"countryInfo"in a&&s(1,o=a.countryInfo),"provinces"in a&&s(2,c=a.provinces)}),a.$$.update=(()=>{1024&a.$$.dirty&&s(7,d=e.toLowerCase().includes("korea")?"South Korea":e),36&a.$$.dirty&&s(3,n=F(c,l)),32&a.$$.dirty&&l.length>0&&s(6,h=0)}),[r,o,c,n,i,l,h,d,["Cases","Deaths","Recovered"],async function(a){await M(e+"/"+a.detail)},e,void 0,void 0,void 0,function(a){s(4,i=a)},function(a){s(5,l=a)},function(a){s(6,h=a),s(5,l)}]}export default class extends a{constructor(a){super(),t(this,a,W,G,s,{country:10,historicCountryData:0,countryInfo:1,provinces:2})}}export{J as preload};
