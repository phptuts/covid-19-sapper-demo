import{a as t,b as r,e,f as n,i as a,s,g as c,S as o,m as i,l as u,C as f,H as l,W as h,k as v,p as d,n as p,o as $,D as m,I as y,q as g,j as w,r as C,J as S,x,M as B,N as b,O as D,X as R,A as j,B as k,F as E,G as T,L as A}from"./client.98afdbfc.js";import{g as F,a as H}from"./request.49dbe5eb.js";import"./cache.c65c912b.js";import{F as I,T as q,f as N}from"./helpers.20efbd3a.js";import{C as V}from"./CovidBasicStats.79cf2a4d.js";function G(t){return function(){var r,e=j(t);if(function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()){var n=j(this).constructor;r=Reflect.construct(e,arguments,n)}else r=e.apply(this,arguments);return k(this,r)}}function J(t){var r,e,n,a,s,c,o,R,j,k,F,H,N,G,J,L=new V({props:{deaths:t[0].deaths,recovered:t[0].recovered,cases:t[0].cases}});function M(r){t[8].call(null,r)}function P(r){t[9].call(null,r)}var W={selectFields:t[6]};void 0!==t[2]&&(W.sortBy=t[2]),void 0!==t[3]&&(W.search=t[3]);var X=new I({props:W});function z(r){t[10].call(null,r)}E.push(function(){return T(X,"sortBy",M)}),E.push(function(){return T(X,"search",P)});var K={fields:t[5],sortBy:t[2],canNav:"true",list:t[1]};void 0!==t[4]&&(K.page=t[4]);var Q=new q({props:K});return E.push(function(){return T(Q,"page",z)}),Q.$on("location",O),{c:function(){r=i(),e=u("div"),n=u("h1"),a=f("Covid-19 Tracker"),s=i(),l(L.$$.fragment),c=i(),o=u("div"),R=u("h2"),j=f("Search By Country"),k=i(),l(X.$$.fragment),N=i(),l(Q.$$.fragment),this.h()},l:function(t){h('[data-svelte="svelte-1voy90n"]',document.head).forEach(v),r=d(t),e=p(t,"DIV",{class:!0});var i=$(e);n=p(i,"H1",{class:!0});var u=$(n);a=m(u,"Covid-19 Tracker"),u.forEach(v),s=d(i),y(L.$$.fragment,i),i.forEach(v),c=d(t),o=p(t,"DIV",{class:!0});var f=$(o);R=p(f,"H2",{});var l=$(R);j=m(l,"Search By Country"),l.forEach(v),f.forEach(v),k=d(t),y(X.$$.fragment,t),N=d(t),y(Q.$$.fragment,t),this.h()},h:function(){document.title="Covid-19 Tracker",g(n,"class","svelte-rmr45w"),g(e,"class","ui container svelte-rmr45w"),g(o,"class","ui container svelte-rmr45w")},m:function(t,i){w(t,r,i),w(t,e,i),C(e,n),C(n,a),C(e,s),S(L,e,null),w(t,c,i),w(t,o,i),C(o,R),C(R,j),w(t,k,i),S(X,t,i),w(t,N,i),S(Q,t,i),J=!0},p:function(t,r){var e=x(r,1)[0],n={};1&e&&(n.deaths=t[0].deaths),1&e&&(n.recovered=t[0].recovered),1&e&&(n.cases=t[0].cases),L.$set(n);var a={};!F&&4&e&&(F=!0,a.sortBy=t[2],A(function(){return F=!1})),!H&&8&e&&(H=!0,a.search=t[3],A(function(){return H=!1})),X.$set(a);var s={};4&e&&(s.sortBy=t[2]),2&e&&(s.list=t[1]),!G&&16&e&&(G=!0,s.page=t[4],A(function(){return G=!1})),Q.$set(s)},i:function(t){J||(B(L.$$.fragment,t),B(X.$$.fragment,t),B(Q.$$.fragment,t),J=!0)},o:function(t){b(L.$$.fragment,t),b(X.$$.fragment,t),b(Q.$$.fragment,t),J=!1},d:function(t){t&&v(r),t&&v(e),D(L),t&&v(c),t&&v(o),t&&v(k),D(X,t),t&&v(N),D(Q,t)}}}function L(t){return M.apply(this,arguments)}function M(){return(M=t(r.mark(function t(e){var n,a;return r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,H();case 3:return n=t.sent,t.next=6,F();case 6:return a=t.sent,t.abrupt("return",{countries:n,worldStats:a});case 10:t.prev=10,t.t0=t.catch(0),this.error(500,"There was an error in calling the api, please try again in 5 minutes.");case 13:case"end":return t.stop()}},t,this,[[0,10]])}))).apply(this,arguments)}function O(t){return P.apply(this,arguments)}function P(){return(P=t(r.mark(function t(e){return r.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e.detail);case 2:case"end":return t.stop()}},t)}))).apply(this,arguments)}function W(t,r,e){var n=r.worldStats,a=void 0===n?{cases:0,deaths:0,recovered:0}:n,s=r.countries,c=void 0===s?[]:s,o=[],i="none",u="",f=0;return t.$set=function(t){"worldStats"in t&&e(0,a=t.worldStats),"countries"in t&&e(7,c=t.countries)},t.$$.update=function(){136&t.$$.dirty&&e(1,o=N(c,u)),8&t.$$.dirty&&u.length>0&&e(4,f=0)},[a,o,i,u,f,["Cases","Deaths","Recovered","Active","Critical"],["Cases","Deaths","Recovered","Active","Critical"],c,function(t){e(2,i=t)},function(t){e(3,u=t)},function(t){e(4,f=t),e(3,u)}]}export default(function(t){e(i,o);var r=G(i);function i(t){var e;return n(this,i),e=r.call(this),a(c(e),t,W,J,s,{worldStats:0,countries:7}),e}return i}());export{L as preload};
