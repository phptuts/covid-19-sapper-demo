import{S as s,i as a,s as e,c as t,b as r,p as c,x as n,L as o,d as i,h as l,f as d,g as u,q as h,y as f,j as $,a as v,k as m,z as p,C as g,D as y,E as w,M as C,v as B,w as S,B as j}from"./client.f8171ee4.js";import"./cache.49e66cc5.js";import{g as E,a as D}from"./request.4d953668.js";import{F as T,T as k,f as x}from"./helpers.7783ddad.js";import{C as b}from"./CovidBasicStats.9b89b6c0.js";function q(s){let a,e,C,E,D,x,q,A,H,I,R,V,z,L,M;const N=new b({props:{deaths:s[0].deaths,recovered:s[0].recovered,cases:s[0].cases}});function G(a){s[8].call(null,a)}function J(a){s[9].call(null,a)}let K={selectFields:s[6]};void 0!==s[2]&&(K.sortBy=s[2]),void 0!==s[3]&&(K.search=s[3]);const O=new T({props:K});function P(a){s[10].call(null,a)}B.push(()=>S(O,"sortBy",G)),B.push(()=>S(O,"search",J));let Q={fields:s[5],sortBy:s[2],canNav:"true",list:s[1]};void 0!==s[4]&&(Q.page=s[4]);const U=new k({props:Q});return B.push(()=>S(U,"page",P)),U.$on("location",F),{c(){a=t(),e=r("div"),C=r("h1"),E=c("Covid-19 Tracker"),D=t(),n(N.$$.fragment),x=t(),q=r("div"),A=r("h2"),H=c("Search By Country"),I=t(),n(O.$$.fragment),z=t(),n(U.$$.fragment),this.h()},l(s){o('[data-svelte="svelte-1voy90n"]',document.head).forEach(i),a=l(s),e=d(s,"DIV",{class:!0});var t=u(e);C=d(t,"H1",{class:!0});var r=u(C);E=h(r,"Covid-19 Tracker"),r.forEach(i),D=l(t),f(N.$$.fragment,t),t.forEach(i),x=l(s),q=d(s,"DIV",{class:!0});var c=u(q);A=d(c,"H2",{});var n=u(A);H=h(n,"Search By Country"),n.forEach(i),c.forEach(i),I=l(s),f(O.$$.fragment,s),z=l(s),f(U.$$.fragment,s),this.h()},h(){document.title="Covid-19 Tracker",$(C,"class","svelte-rmr45w"),$(e,"class","ui container svelte-rmr45w"),$(q,"class","ui container svelte-rmr45w")},m(s,t){v(s,a,t),v(s,e,t),m(e,C),m(C,E),m(e,D),p(N,e,null),v(s,x,t),v(s,q,t),m(q,A),m(A,H),v(s,I,t),p(O,s,t),v(s,z,t),p(U,s,t),M=!0},p(s,[a]){const e={};1&a&&(e.deaths=s[0].deaths),1&a&&(e.recovered=s[0].recovered),1&a&&(e.cases=s[0].cases),N.$set(e);const t={};!R&&4&a&&(R=!0,t.sortBy=s[2],j(()=>R=!1)),!V&&8&a&&(V=!0,t.search=s[3],j(()=>V=!1)),O.$set(t);const r={};4&a&&(r.sortBy=s[2]),2&a&&(r.list=s[1]),!L&&16&a&&(L=!0,r.page=s[4],j(()=>L=!1)),U.$set(r)},i(s){M||(g(N.$$.fragment,s),g(O.$$.fragment,s),g(U.$$.fragment,s),M=!0)},o(s){y(N.$$.fragment,s),y(O.$$.fragment,s),y(U.$$.fragment,s),M=!1},d(s){s&&i(a),s&&i(e),w(N),s&&i(x),s&&i(q),s&&i(I),w(O,s),s&&i(z),w(U,s)}}}async function A(s){try{return{countries:await E(),worldStats:await D()}}catch(s){this.error(500,"There was an error in calling the api, please try again in 5 minutes.")}}async function F(s){await C(s.detail)}function H(s,a,e){let{worldStats:t={cases:0,deaths:0,recovered:0}}=a,{countries:r=[]}=a,c=[],n="none",o="",i=0;return s.$set=(s=>{"worldStats"in s&&e(0,t=s.worldStats),"countries"in s&&e(7,r=s.countries)}),s.$$.update=(()=>{136&s.$$.dirty&&e(1,c=x(r,o)),8&s.$$.dirty&&o.length>0&&e(4,i=0)}),[t,c,n,o,i,["Cases","Deaths","Recovered","Active","Critical"],["Cases","Deaths","Recovered","Active","Critical"],r,function(s){e(2,n=s)},function(s){e(3,o=s)},function(s){e(4,i=s),e(3,o)}]}export default class extends s{constructor(s){super(),a(this,s,H,q,e,{worldStats:0,countries:7})}}export{A as preload};
